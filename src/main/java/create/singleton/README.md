
# 单例模式

## 定义
> 保证一个类仅有一个实例，并提供一个访问它的全局访问点。

## 要点
* 某个类只能有一个实例
* 它必须自行创建这个实例
* 它必须自行向整个系统提供这个实例。

## 实现
* 单例模式的类只提供私有的构造函数
* 类定义中含有一个该类的静态私有对象
* 该类提供了一个静态的公有的函数用于创建或获取它本身的静态私有对象

## 使用
* **主要解决** 一个全局使用的类频繁地创建与销毁
* **何时使用** 当您想控制实例数目，节省系统资源的时候
* **选择关键点** 一个对象在应用中出现多个实例是否会引起逻辑上或者是程序上的错误

## 使用场景
1. 应用中有对象需要是全局的且唯一
2. 要求生产唯一序列号。 
3. WEB 中的计数器，不用每次刷新都在数据库里加一次，用单例先缓存起来。
4. 创建的一个对象需要消耗的资源过多，比如 I/O 与数据库的连接等。

## 分类
### 懒汉式
* 需要加锁影响效率
* Lazy加载

### 饿汉式
* 类装载时实例化,虽然浪费内存,但不需要加锁效率高
* 非Lazy加载

### 双重锁
* 加锁情况下提高效能
* Lazy加载

### 登记式/静态内部类
* 实现双重锁但比他效率更高
* 推荐使用
* Lazy加载

### 枚举
* Lazy加载